{% load staticfiles %}

<!DOCTYPE html>
<html>
<meta charset="utf-8">
<head>
    <title>Language Trends</title>
    <!-- Bootstrap -->
    <link href="../../static/bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen">
    <link href="../../static/bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet" media="screen">
    <link href="../../static/assets/styles.css" rel="stylesheet" media="screen">
    <link href="../../static/vendors/nvd3/src/nv.d3.css" rel="stylesheet" type="text/css">
    <!--[if lte IE 8]><script language="javascript" type="text/javascript" src="vendors/flot/excanvas.min.js"></script>
    <![endif]-->
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
            <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->

    <script src="../../static/vendors/jquery-1.9.1.min.js"></script>
    <script src="../../static/vendors/jquery.knob.js"></script>
    <script src="../../static/bootstrap/js/bootstrap.min.js"></script>
	<script src="../../static/vendors/modernizr-2.6.2-respond-1.1.0.min.js"></script>
    <style>

        body {
            overflow-y: scroll;
        }

        text {
            font: 12px sans-serif;
        }

        svg {
            display: block;
            height: 600px;
        }

    </style>


    <script type='text/javascript'>
        $(function () {
            $("ul.bs-docs-sidenav li").attr("class", "");
            $("#trends").attr("class", "active");
        });
    </script>
</head>

<body>
{% include 'navbar.html' %}
<div class="container-fluid">
    <div class="row-fluid">

        {% include 'sidebar.html' %}

        <div class="span9" id="content">
            <!-- morris stacked chart -->
            <div class="row-fluid">
                <div class="block">
                    <div class="navbar navbar-inner block-header">
						<ul class="nav nav-pills">
						  <li class="active"><a href="#vis" data-toggle="tab">Language Trends</a></li>
						  <li><a href="#note" data-toggle="tab">Lab note</a></li>
						</ul>

                    </div>
					<div class="tab-content" >
						<div class="tab-pane active" id="vis">
							<div class="block-content collapse in" style="text-align: center ;">
								<div class="span12" style="padding-bottom:30px;" id="chart1">
									<svg></svg>
								</div>
								<div class="span12" style="padding-bottom:30px;" id="chart2">
									<svg></svg>
								</div>
                                <div class="span12" style="padding-bottom:30px;" id="chart3">
									<svg></svg>
								</div>
                                <div class="span12" style="padding-bottom:30px;" id="chart4">
									<svg></svg>
								</div>
							</div>
						</div>
						<div class="tab-pane" id="note">	
							<div class="block-content tab-content collapse in">
								<h1>Code Commits Trends</h1>
                                <p>You may guess that a JavaScript coder is likely to write code in CSS and PHP, and a C programmer is likely to work on C++ projects.</p>
                                <p>Or you may imagine that a computer geek who favors Linux Shell and write code in Vim editor would most likely to be an expert on multiple programming languages.</p>
                                <p>Now you can validate your&nbsp;speculation with GitHub user behavior data and this visualization tool!&nbsp;</p>
                                <h2>Data colletion and processing</h2>
                                <p>GitHub user and repository data used in this app is retrieved by Google BigQuery and downloaded as CSV file. The raw data contains a lot of unwanted rows and organized in a schema that is hard to perform analysis. This data is processed in R, where it is trimed and the table is reshaped for easy analysis. R also has very handy statistic utilities, from which we chose spearman&#39;s Rank Correlation to see the links between languages. As output a correlation matrix is generated, with which d3.js, a JavaScript visualization library, is able to draw a nice chord chart.</p>
                                <h2>Findings</h2>
                                <p>As you can imagine the languages in web development stack have strong relationships with each other. Most Scala coder also contribute to Java projects. Contributors of Go language and Shell script are also very active in project using other languages. &nbsp;Objective-C, C# and Java users seem to limit themselve in programing language spectrums, but this may result from biased sampling, which is discussed below.&nbsp;</p>
                                <h2>Limitations&nbsp;</h2>
                                <p>Although some relationship can be implied by this chord chart and some of them make perfect sense, it can not be used to draw a final conclusion. The sample we got is not random enough to represent all coders behavior - most project hosted on GitHub are open source, thus the programming languages used by this community is biased, with JavaScript being prevalent while Java or C# projects are less involved.</p>
							</div>
						</div>
					</div>
                </div>
            </div>

        </div>
    </div>
    <hr>
    <footer>
        <!--<p>&copy; CMPE_272_Group_8</p>-->
    </footer>
</div>
<!--/.fluid-container-->
<script src="../../static/vendors/nvd3/lib/d3.v3.js"></script>
<script src="../../static/vendors/nvd3/nv.d3.js"></script>
<script src="../../static/vendors/nvd3/src/tooltip.js"></script>
<script src="../../static/vendors/nvd3/src/utils.js"></script>
<script src="../../static/vendors/nvd3/src/models/legend.js"></script>
<script src="../../static/vendors/nvd3/src/models/axis.js"></script>
<script src="../../static/vendors/nvd3/src/models/scatter.js"></script>
<script src="../../static/vendors/nvd3/src/models/line.js"></script>
<script>
    d3.json('../../static/data/daily_trends_2013.json', function(data) {
        nv.addGraph(function() {
          var chart = nv.models.stackedAreaChart()
                        .x(function(d) { return d[0] })
                        .y(function(d) { return d[1] });

          chart.xAxis
              .showMaxMin(false)
              .tickFormat(function(d) { return d3.time.format('%x')(new Date(d)) });

          chart.yAxis
              .tickFormat(d3.format(',.2f'));

          d3.select('#chart1 svg')
            .datum(data)
              .transition().duration(500).call(chart);

          nv.utils.windowResize(chart.update);

          return chart;
        });
    });

    d3.json('../../static/data/weekly_trends_2013.json', function(data) {
        nv.addGraph(function() {
          var chart = nv.models.stackedAreaChart()
                        .x(function(d) { return d[0] })
                        .y(function(d) { return d[1] });

          chart.xAxis
              .tickFormat(d3.format(',.0f'));

          chart.yAxis
              .tickFormat(d3.format(',.2f'));

          d3.select('#chart2 svg')
              .datum(data)
            .transition().duration(500)
              .call(chart);

          nv.utils.windowResize(chart.update);

          return chart;
        });
    });

    d3.json('../../static/data/daily_trends_2012.json', function(data) {
        nv.addGraph(function() {
          var chart = nv.models.stackedAreaChart()
                        .x(function(d) { return d[0] })
                        .y(function(d) { return d[1] });

          chart.xAxis
              .showMaxMin(false)
              .tickFormat(function(d) { return d3.time.format('%x')(new Date(d)) });

          chart.yAxis
              .tickFormat(d3.format(',.2f'));

          d3.select('#chart3 svg')
            .datum(data)
              .transition().duration(500).call(chart);

          nv.utils.windowResize(chart.update);

          return chart;
        });
    });

    d3.json('../../static/data/weekly_trends_2012.json', function(data) {
        nv.addGraph(function() {
          var chart = nv.models.stackedAreaChart()
                        .x(function(d) { return d[0] })
                        .y(function(d) { return d[1] });

          chart.xAxis
              .tickFormat(d3.format(',.0f'));

          chart.yAxis
              .tickFormat(d3.format(',.2f'));

          d3.select('#chart4 svg')
              .datum(data)
            .transition().duration(500)
              .call(chart);

          nv.utils.windowResize(chart.update);

          return chart;
        });
    });
</script>

</body>

</html>